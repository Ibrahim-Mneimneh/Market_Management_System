<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Market Management System (Stocks)</title>
        <link href="orders.css" rel="stylesheet">
        <script type="text/javascript" src="/eel.js"></script>

</head>
<body>
    <div class="navbar">
        <div class="logo">
            <img src="./grocery-store .png" alt="image">
            <span>Market Management System</span>
        </div>
        <div class="options">
            <span onclick="routing('manager.html')">Staff</span>
            <span onclick="routing('stocks.html')">Stock</span>
            <span style="color: #1aac83;">Orders</span>
        </div>
    </div>
    <div class="navbar">
        <div class="logo">
            <img src="./grocery-store .png" alt="image">
            <span>Market Management System</span>
        </div>
        <div class="options">
            <span onclick="routing('manager.html')">Staff</span>
            <span onclick="routing('stocks.html')">Stock</span>
            <span style="color: #1aac83;">Orders</span>
        </div>
    </div>
    <div class="orders-section">
        <b id="account"></b>
        <div class="orders" id="orders">

        </div>
    </div>

    <script>
        eel.passProps()(receivedData);
        var orderNumbers=[];
        var orderPrices=[];
        var empNames=[]
        getResult();
        setTimeout(()=>{
            var itemInfo="";
            console.log(itemNames);
            itemNames.map((name,index)=>{
                itemInfo=itemInfo+"<div class='info' id='"+index+"'><h2>"+name+"</h2><p><strong>Left Amount: "+itemQuantities[index]+"</strong></p><p><strong>Price: "+itemPrices[index]+" $</strong></p></div>"
            })
            document.getElementById("items").innerHTML=itemInfo;
        },500);

        function routing(newPage){
            window.close();
            eel.routing(newPage);
        }
        function receivedData(props){
            props= "Welcome "+props;
            document.getElementById("account").innerHTML=props;
        }
        function setOrderNumber(numbers){
            orderNumbers=numbers;
        }
        function setOrderPrices(price){
            orderPrices=names;
        }
        function setEmpOrder(names){
            empNames=names;
        }
        function getResult(){
            eel.getOrderNumbers()(setOrderNumber);
            eel.getOrderPrice()(setOrderPrices);
            eel.getEmpOrder()(setEmpNames);
        }

    </script>
</body>
</html>