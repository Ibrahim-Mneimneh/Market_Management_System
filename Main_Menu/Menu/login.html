<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Market Management System (Login)</title>
        <link href="login.css" rel="stylesheet">
        <script type="text/javascript" src="/eel.js"></script>

</head>
<body>
    <div class="login">
        <span>Login</span>
        <input type="text" placeholder="Username or Email" required id="username_email"></input>
        <input type="password" placeholder="Password" required id="password"></input>
        <button onclick="submit()">Login</button>
        <b id="message" style="color:red"></b>

        <script>
        var error ="";
        document.getElementById('message').innerHTML = error;
        var username_email =document.getElementById('username_email');
        var password =document.getElementById('password');
        function login(){
            error =eel.login()
        }
        function signup(){
            eel.signup()
        }
        function routing(newPage){
        window.close()
        eel.routing(newPage)
        }
        function handleError(text){
            document.getElementById("message").innerHTML=text;
            if(text==="Logging In."){
            routing("home.html");
            }
        }
        function submit(){
            eel.login(username_email.value,password.value)(handleError);
        }


        </script>
    </div>
</body>
</html>